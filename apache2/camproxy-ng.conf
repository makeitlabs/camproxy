<IfModule mod_ssl.c>

	<VirtualHost *:443>
	    ServerName cameras.makeitlabs.com

	    WSGIDaemonProcess camproxy-ng python-home=/var/www/camproxy-ng/flask-backend/.venv user=www-data group=www-data threads=5 home=/var/www/camproxy-ng/flask-backend
	    WSGIScriptAlias /api /var/www/camproxy-ng/flask-backend/camproxy-ng.wsgi

	    CustomLog /var/log/apache2/camproxy-ng.log combined
	    ErrorLog /var/log/apache2/camproxy-ng-error.log

	    <Directory /var/www/camproxy-ng>
	        WSGIProcessGroup camproxy-ng
	        WSGIApplicationGroup %{GLOBAL}
	        Order deny,allow
	        Allow from all
	    </Directory>

	    SSLEngine on

	    SSLCertificateFile /etc/ssl/certs/camproxy.crt
	    SSLCertificateKeyFile /etc/ssl/private/camproxy.key
	</VirtualHost>
</IfModule>

